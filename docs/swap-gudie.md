افزایش Swap در اوبونتو برای بهبود عملکرد رم در سرور hiddify manager
اگر از hiddify manager روی یک سرور کم‌رم مثل ۱ گیگابایت استفاده می‌کنید، احتمالاً با کندی، هنگ کردن یا مصرف بالای رم مواجه شدید. یکی از ساده‌ترین و مؤثرترین راه‌حل‌ها برای بهبود عملکرد سیستم در چنین شرایطی، فعال‌سازی و افزایش Swap در لینوکس (اوبونتو) است. در این مقاله به‌زبان ساده توضیح می‌دهیم Swap چیست و چطور با چند دستور ساده می‌توانید مصرف رم را کاهش داده و عملکرد hiddify manager را به‌طور چشم‌گیری بهتر کنید.

Swap لینوکس چیست؟
Swap فضای کمکی روی دیسک است که وقتی رم اصلی سیستم پر می‌شود، سیستم عامل از آن برای نگهداری موقت داده‌های غیرفعال استفاده می‌کند.
در واقع Swap مثل یک رم پشتیبان عمل می‌کند — هرچند کندتر از RAM واقعی است، اما برای جلوگیری از کرش کردن و هنگ کردن سیستم بسیار کاربردی است.

چرا hiddify manager به Swap نیاز دارد؟
برنامه‌هایی مانند hiddify manager در سرورهایی با رم پایین (مثلاً ۱ گیگ) ممکن است با اجرای چند ماژول همزمان یا بار زیاد، باعث پر شدن سریع رم شوند. در این حالت، سیستم یا کند می‌شود یا بعضی سرویس‌ها متوقف می‌شوند. اضافه کردن Swap می‌تواند فشار روی RAM را کم کرده و اجرای نرم‌افزار را پایدارتر کند.

بررسی وضعیت فعلی Swap در اوبونتو
برای دیدن وضعیت Swap در سرور خود، این دستور را وارد کنید:

sudo swapon --show
اگر چیزی نمایش داده نشد، یعنی هیچ Swap فعالی ندارید.

آموزش کامل ساخت و افزایش Swap در اوبونتو
1. غیرفعال کردن Swap قبلی (در صورت وجود)
sudo swapoff -a
2. ساخت فایل جدید Swap (مثلاً ۸ گیگ)
sudo fallocate -l 8G /swapfile
اگر fallocate در سیستم شما کار نکرد:

sudo dd if=/dev/zero of=/swapfile bs=1G count=8
3. تعیین سطح دسترسی صحیح
sudo chmod 600 /swapfile
4. آماده‌سازی فایل برای Swap
sudo mkswap /swapfile
5. فعال‌سازی Swap
sudo swapon /swapfile
6. بررسی فعال‌سازی موفق
free -h
خروجی باید چیزی شبیه این باشد:

Swap:  2.0G   0B   2.0G
7. دائمی‌سازی Swap در فایل fstab
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
تجربه ما با hiddify manager
ما این روش را روی یکی از سرورهایی که فقط ۱ گیگابایت رم داشت و روی آن hiddify manager اجرا می‌شد، امتحان کردیم.
قبل از ایجاد Swap، سیستم بار زیادی روی رم داشت و بعضی وقت‌ها قطع یا کند می‌شد.
بعد از ایجاد Swap، مصرف رم حدود ۵۰٪ کاهش پیدا کرد و اجرای hiddify manager بسیار روان‌تر شد.
حتی هنگام اعمال تنظیمات سنگین یا اجرای چند کانفیگ، سیستم کاملاً پایدار باقی ماند.

جمع‌بندی
اگر روی سروری با رم پایین hiddify manager نصب کرده‌اید، حتماً Swap را فعال و به اندازه مناسب افزایش دهید.
این کار یکی از ساده‌ترین و ارزان‌ترین راه‌ها برای جلوگیری از کندی، هنگ کردن یا کرش سیستم است. با چند خط دستور، می‌توانید کیفیت و پایداری سرور خود را چند برابر کنید.
